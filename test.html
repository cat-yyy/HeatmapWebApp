<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>ダッシュボード Loading デモ</title>
  <style>
    body {
      margin:0;
      padding:20px;
      font-family:sans-serif;
      background:#f0f2f5;
    }
    h1 { margin-bottom:20px; }

    .dashboard {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
      gap:20px;
    }
    .card {
      position:relative;
      background:#fff;
      padding:16px;
      border-radius:12px;
      box-shadow:0 4px 10px rgba(0,0,0,0.08);
    }
    .card h2 {
      margin:0 0 10px;
      font-size:18px;
    }
    .card p {
      margin:0 0 12px;
      color:#444;
    }
    .card button {
      padding:6px 12px;
      border:none;
      border-radius:6px;
      background:#2563eb;
      color:#fff;
      cursor:pointer;
    }

    /* ローディングオーバーレイ */
    .overlay {
      position:absolute;
      inset:0;
      background:rgba(255,255,255,0.8);
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:12px;
      opacity:0;
      pointer-events:none;
      transition:opacity .3s;
    }
    .overlay.active {
      opacity:1;
      pointer-events:auto;
    }

    .spinner {
      width:28px;
      height:28px;
      border:4px solid rgba(0,0,0,0.1);
      border-top-color:#2563eb;
      border-radius:50%;
      animation:spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform:rotate(360deg); }
    }
    .loading-text {
      margin-left:10px;
      font-weight:bold;
      color:#2563eb;
    }
    .loader {
      display:flex;
      align-items:center;
    }
  </style>
</head>
<body>
  <h1>ダッシュボード</h1>
  <div class="dashboard">
    <div class="card" data-card="1">
      <h2>カード1</h2>
      <p>処理Aを実行できます。</p>
      <button>実行</button>
      <div class="overlay">
        <div class="loader">
          <div class="spinner"></div>
          <div class="loading-text">loading...</div>
        </div>
      </div>
    </div>
    <div class="card" data-card="2">
      <h2>カード2</h2>
      <p>処理Bを実行できます。</p>
      <button>実行</button>
      <div class="overlay">
        <div class="loader">
          <div class="spinner"></div>
          <div class="loading-text">loading...</div>
        </div>
      </div>
    </div>
    <div class="card" data-card="3">
      <h2>カード3</h2>
      <p>処理Cを実行できます。</p>
      <button>実行</button>
      <div class="overlay">
        <div class="loader">
          <div class="spinner"></div>
          <div class="loading-text">loading...</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 疑似的に非同期処理をシミュレーション
    function fakeAsync(ms=1500) {
      return new Promise(res => setTimeout(res, ms));
    }

    // 各カードのボタンにイベントを付与
    document.querySelectorAll('.card').forEach(card => {
      const button = card.querySelector('button');
      const overlay = card.querySelector('.overlay');
      const contentP = card.querySelector('p');

      button.addEventListener('click', async () => {
        overlay.classList.add('active');
        contentP.textContent = "処理中...";
        try {
          await fakeAsync(2000); // 疑似処理
          contentP.textContent = "処理が完了しました！";
        } finally {
          overlay.classList.remove('active');
        }
      });
    });
  </script>
</body>
</html>
